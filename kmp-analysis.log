AAACAAAA
01234567

lps[0] = 0
len == 0; i == 1 -> len++ -> lps[i -> 1] = len == 1; i++
len == 1; i == 2 -> len++ -> lps[i -> 2] = len == 2; i++

len == 2; i == 3
    -> len = lps[len-1] == 1;

len == 1; i == 3
    -> len = lps[len-1] == 0;

len == 0; i == 3
    -> lps[i] = 0; i++

len == 0; i == 4 -> len++ -> lps[i -> 4] = len == 1; i++

len == 1; i == 5 -> len++ -> lps[i -> 5] = len == 2; i++

len == 2; i == 6 -> len++ -> lps[i -> 6] = len == 3; i++

len == 3; i == 7
    -> len = lps[len-1] = 2;

len == 2; i == 7 -> len++ -> lps[i -> 7] = len == 3; i++

lps: [0 1 2 0 1 2 3 3]
